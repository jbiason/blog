<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <!-- viewport-fit=cover is to support iPhone X rounded corners and notch in landscape-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, viewport-fit=cover">

      <title>Julio Biason .Me 4.3</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https://blog.juliobiason.me/print.css" media="print">
      <link rel="stylesheet" href="https://blog.juliobiason.me/poole.css">
      <link rel="stylesheet" href="https://blog.juliobiason.me/hyde.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

      

      
      
    </head>

    <body class=" ">
        
            <div class="sidebar">
                <div class="container sidebar-sticky">
                    <div class="sidebar-about">
                        
                            <a href="https:&#x2F;&#x2F;blog.juliobiason.me"><h1>Julio Biason .Me 4.3</h1></a>
                            
                            <p class="lead">Old school dev living in a 2.0 dev world</p>
                            
                        
                    </div>

                    <ul class="sidebar-nav">
                        
                        
                        <li class="sidebar-nav-item"><a href="&#x2F;">English</a></li>
                        
                        <li class="sidebar-nav-item"><a href="&#x2F;pt">Português</a></li>
                        
                        <li class="sidebar-nav-item"><a href="&#x2F;tags">Tags (EN)</a></li>
                        
                        <li class="sidebar-nav-item"><a href="&#x2F;pt&#x2F;tags">Tags (PT)</a></li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div class="content container">
            
<div class="post">
  <h1 class="post-title">O problema de go não é a vulnerabilidade do XML</h1>
  <span class="post-date">
	2020-12-15
	
            <a href="https://blog.juliobiason.me/pt/tags/go/">#go</a>
        
            <a href="https://blog.juliobiason.me/pt/tags/golang/">#golang</a>
        
            <a href="https://blog.juliobiason.me/pt/tags/padroes/">#padrões</a>
        
            <a href="https://blog.juliobiason.me/pt/tags/xml/">#xml</a>
        
            <a href="https://blog.juliobiason.me/pt/tags/vulnerabilidade/">#vulnerabilidade</a>
        
  </span>
  <p>Ontem eu postei <a href="https://blog.juliobiason.me/pt/links/go-xml-vulnerability/">alguns comentários sobre a vulnerabilidade da biblioteca XML
do go</a> e algumas pessoas disseram que isso
não era grande coisa.</p>
<p>O problema não é a vulnerabilidade em si, no entanto.</p>
<span id="continue-reading"></span>
<p>Ainda, o problema é só parcialmente com relação ao fato que a vulnerabilidade
não pode ser corrigida de forma confiável. E não é em relação à biblioteca
&quot;http&quot; que tinha um problema de negação-de-serviço. E não é em relação à
biblioteca de números naturais (e mais especificamente <code>divRecursiveStep</code>) que
causou um erro na rede de Etherium. E não é em relação que a biblioteca &quot;ssh&quot;
tinha uma vulnerabilidade que foi corrigida.</p>
<p>O problema é o padrão.</p>
<p>Eu não espero que as coisas tenham aquele toque místico de &quot;tudo tem que ser
perfeito&quot;. Poxa, com a exceção do problema da biblioteca &quot;xml&quot;, todos os outros
problemas já foram corrigidos.</p>
<p>Mas existe um padrão surgindo na biblioteca padrão do go que mostra quão pouco
cuidado foi tomado na sua construção. E, junto com esse padrão, tem o
problema que isso está na biblioteca padrão. Bibliotecas padrão deveriam, além
de prover uma infra-estrutura para aplicações maiores, serem implementações de
referencia. Por exemplo, se você quiser saber como é que diabos o Python fez
para adicionar suporte ao SQLite, basta você olhar a biblioteca padrão (FFI);
ou se você se perguntar como é que sets em Python são tão rápidos (tão rápidos
com relação ao resto das coisas em Python, quero dizer), você também
pode consultar a biblioteca padrão (sets são escritos em C); ou como é que eles
fizeram para que &quot;namedtuples&quot; criassem objetos magicamente (<code>eval</code>). Essas
partes descrevem como você deve construir algo que conecte com algo externo,
que seja rápido ou que seja mágico.</p>
<p>E esse padrão mostra que a biblioteca padrão do go está fazendo as coisas de
forma errada. Parece que o time de go focou muito em &quot;adicionar valor&quot; e muito
pouco em &quot;servir de referência&quot;.</p>
<p>Outra indicação que tem algo errado com a linguagem: em quatro meses, o
problema da ordenação não pode ser corrigido. Em metade desse tempo eu consigo
escrever <em>bindings</em> da libxml2 em Python, ou até mesmo em Rust, mesmo não tendo
experiência alguma com o FFI de Python ou Rust. Isso significa que essa camada
que dá acesso a biblioteca padrão à coisas externas está tendo muito controle,
de forma que estruturas externas não podem ser usadas sem que sejam bagunçadas
pelo runtime. Se o FFI tivesse liberdade suficiente para expor somente a camada
mais externa, escrever uma implementação de parser XML em C e só expor as
camadas superiores seria completamente viável em quatro meses -- mesmo sem usar
a libxml2.</p>
<p>Todos esses padrão mostram que tem algo de errado com a arquitetura da
linguagem. E é por isso que eu disse que qualquer coisa no mínimo semi-séria
não deveria ser escrita em go.</p>
<p>Eu sou uma pessoa que diz coisas controversas de tempo em tempos. No começo
desse ano eu disse, em um evento, que um líder técnico que valesse o seu
próprio salário não recomendaria go para coisa alguma. E eu mantenho essa
posição. Líderes técnicos devem ver esse tipo de problema aparecer e tomar
ações para evitar que o projeto caia num buraco que seja complicado de sair
depois. E esse padrão de problemas com go já tem aparecido a muito tempo.</p>
<p>PS: Vocês devem ter notado que eu digitei &quot;go&quot; e não &quot;Go&quot; na maior parte desse
post. Isso é proposital; eu não acredito que a linguagem mereça ser chamada com
um &quot;G&quot; maiúsculo.</p>
<!-- 
vim:spelllang=pt:
-->

</div>




        </div>

    </body>

</html>
